# ExecSignals Site Architecture Plan

## Overview

Static site on GitHub Pages with Python build system (Provyx/CROReport pattern).
Custom domain: execsignals.com. Repo: romelikethecity/execsignals (private).

---

## File Structure

```
execsignals/
├── index.html                        ← generated by build.py
├── privacy/index.html                ← generated
├── terms/index.html                  ← generated
├── 404.html                          ← generated (noindex)
├── css/
│   └── styles.css                    ← external shared CSS (?v=1, preloaded)
├── js/
│   └── main.js                       ← shared JS (defer), smooth scroll, GA4 events, CTA form
├── assets/
│   ├── fonts/
│   │   ├── fonts.css                 ← @font-face declarations
│   │   ├── plus-jakarta-sans-latin-400.woff2
│   │   ├── plus-jakarta-sans-latin-500.woff2
│   │   ├── plus-jakarta-sans-latin-600.woff2
│   │   ├── plus-jakarta-sans-latin-700.woff2
│   │   ├── dm-serif-display-latin-400.woff2
│   │   ├── dm-serif-display-latin-400-italic.woff2
│   │   └── ibm-plex-mono-latin-400.woff2
│   ├── social-preview.png            ← 1200x630 OG image (LinkedIn-optimized)
│   ├── favicon.ico
│   ├── favicon-32x32.png
│   ├── favicon-16x16.png
│   ├── apple-touch-icon.png          ← 180x180
│   ├── android-chrome-192x192.png
│   └── android-chrome-512x512.png
├── scripts/
│   ├── build.py                      ← master build (all pages + sitemap)
│   ├── templates.py                  ← get_html_head(), get_nav_html(), get_footer_html()
│   └── nav_config.py                 ← single source of truth for nav/footer/CTA
├── data/
│   └── latest_stats.json             ← pipeline output (lead count, avg salary, etc.)
├── mockups/                          ← preserved for reference (not deployed)
├── CNAME                             ← execsignals.com
├── robots.txt                        ← points to sitemap.xml
├── sitemap.xml                       ← generated by build.py
├── site.webmanifest                  ← PWA metadata
└── .nojekyll                         ← skip Jekyll on GitHub Pages
```

---

## Phase 1: Publish Site

### 1. Build System (scripts/)

**`scripts/nav_config.py`** — Single source of truth:
- SITE_NAME, DOMAIN, CSS_VERSION
- NAV_LINKS (Market Intel, How It Works, Pricing, Sample Brief)
- NAV_CTA_TEXT ("Send Me the Brief"), NAV_CTA_HREF
- FOOTER_LINKS (Contact, Privacy, Terms)
- GA4_ID (placeholder until property created)

**`scripts/templates.py`** — Three core generators:
- `get_html_head(title, description, canonical_path, og_image, schemas)`:
  - Analytics preconnect + dns-prefetch
  - Font preload (primary body font woff2)
  - CSS preload + stylesheet load
  - Non-blocking font loading (media="print" onload swap + noscript fallback)
  - Canonical URL
  - OG tags (title, description, url, image, image:width/height, site_name, type)
  - Twitter Card (summary_large_image)
  - Favicon set (ico, png 32/16, apple-touch-icon, manifest)
  - theme-color (#0C0F1A)
  - JSON-LD schemas
  - GA4 async snippet
- `get_nav_html(active_page)`:
  - Sticky header with ExecSignals wordmark
  - Desktop nav links (from nav_config)
  - Nav CTA button
  - Mobile hamburger toggle
  - Mobile nav slide-out
  - Inline mobile toggle JS (IIFE)
- `get_footer_html()`:
  - Footer with copyright, Pariter Media Inc., nav links
  - `<script src="/js/main.js" defer></script>`
- `get_page_wrapper(title, desc, path, body, schemas)`:
  - Combines head + nav + body + footer

**`scripts/build.py`** — Master build:
- Accepts `--data path/to/latest_stats.json` for dynamic stats
- Generates: index.html, privacy/index.html, terms/index.html, 404.html, sitemap.xml
- Reads landing page body content and injects current stats (lead count, avg salary, growth %, freshness)

### 2. External Shared CSS (css/styles.css)

Extract from mockup inline styles. Version-busted via `?v={CSS_VERSION}` from nav_config.
Preloaded in head: `<link rel="preload" href="/css/styles.css?v=1" as="style">`

### 3. Self-Hosted Fonts (assets/fonts/)

Download woff2 files for:
- Plus Jakarta Sans (400, 500, 600, 700) — body
- DM Serif Display (400, 400i) — headings
- IBM Plex Mono (400, 500, 600) — numbers/data

`fonts.css` contains @font-face declarations with font-display: swap.
Primary body font preloaded: `<link rel="preload" href="...woff2" as="font" type="font/woff2" crossorigin>`
Non-blocking load: `media="print" onload="this.media='all'"` + noscript fallback.

### 4. Shared JS (js/main.js, defer)

- Smooth scroll for anchor links
- CTA form handler (POST to server endpoint, show success state)
- Signal bar animation (IntersectionObserver)
- Hero counter animation
- GA4 custom events: CTA clicks, form submit, scroll depth, pricing click, FAQ expand

### 5. Infrastructure Files

- `CNAME`: `execsignals.com`
- `robots.txt`: Allow all, Sitemap: https://execsignals.com/sitemap.xml
- `sitemap.xml`: Generated by build.py with priority/changefreq/lastmod
- `.nojekyll`: Empty file
- `site.webmanifest`: name, short_name, icons (192/512), theme_color, background_color
- `404.html`: Branded error page, noindex, links back to homepage

### 6. JSON-LD Schemas (homepage)

Three schemas in @graph:
1. **Organization**: ExecSignals, Pariter Media Inc., url, description
2. **Product**: The Monday Brief, $297/mo, subscription offers
3. **FAQPage**: 6 FAQ items (featured snippet targeting)

### 7. Social Preview (LinkedIn-optimized)

1200x630 PNG showing:
- ExecSignals brand mark
- "272 VP+ Leads Scored This Week" (dynamic from pipeline)
- "$234K Avg Salary" stat
- Dark navy background with amber accent
- Designed for LinkedIn feed visibility

### 8. Privacy + Terms Pages

Generated by build.py from templates. Minimal but compliant:
- Privacy: Data collection (email only), Resend for delivery, no selling data, contact email
- Terms: Subscription terms, cancellation, liability, governing law

### 9. Dynamic Landing Page Stats

`data/latest_stats.json` format:
```json
{
  "lead_count": 272,
  "avg_salary": "$234K",
  "growth_hire_pct": "86%",
  "freshness": "1-3",
  "week_label": "Feb 10-17, 2026",
  "generated_at": "2026-02-17T06:00:00Z"
}
```

`build.py` reads this and injects into:
- Hero stats (lead count, avg salary, growth %, freshness)
- Sample leads subtitle ("Subscribers see all {lead_count}")
- Blur overlay CTA ("See all {lead_count} leads")
- Email preview stats
- Signal distribution subtitle
- CTA section subtitle

---

## Phase 2: Before Outreach

### 10. Form Submission → Resend Audiences

**Server endpoint** on 100.91.208.46:
- Tiny Flask/FastAPI app (or add route to existing server)
- POST /api/subscribe with {email, source: "execsignals"}
- Validates email, adds to Resend Audience via API
- Returns JSON success/error
- CORS: execsignals.com only
- Rate limiting: 10 req/min per IP

**Landing page form** (in main.js):
- fetch() POST to https://api.execsignals.com/subscribe (or server IP endpoint)
- Show success state on 200
- Show error message on failure
- Disable button during submission

**Resend setup (not yet configured):**
- Create Resend account at resend.com
- Get API key, store in server .env
- Verify sending domain: add SPF, DKIM, DMARC DNS records for execsignals.com
- Create Audience: "ExecSignals Subscribers"
- No other vendors required
- **Cost:** Free tier (3,000 emails/mo = 750 weekly subscribers before paying)
- **Paid tier:** $20/mo for 50,000 emails/mo (when needed)

### 11. GA4 Property

- Create GA4 property for execsignals.com
- Add property ID to nav_config.py
- Rebuild to inject

### 12. Rebrand messaging.md

- "Hot Leads Weekly" → "The Monday Brief" / "ExecSignals"
- Update product name, pricing references, email copy
- Keep cold outreach structure and objection handling

---

## Phase 3: Growth

### 13. Programmatic SEO Pages

Generate from jobs.db (29,000+ jobs):

**Salary pages** (`/salaries/vp-sales/`, `/salaries/cfo/`, etc.):
- Median, P25, P75 salary from real posted roles
- Week-over-week trend
- Sample companies hiring
- CTA to Monday Brief
- Content length: 800-1200 words (intro, data, methodology, related roles)

**Market pages** (`/markets/san-francisco/`, `/markets/new-york/`, etc.):
- VP+ hiring volume by metro
- Top companies hiring in that metro
- Salary benchmarks for that metro
- Function breakdown
- Content length: 600-1000 words

**Trend pages** (`/trends/weekly/2026-02-17/`):
- Auto-generated weekly snapshots
- Hiring velocity, salary shifts, new companies
- Historical comparison
- Content length: 400-800 words

**Best practices for programmatic content:**
- Minimum 500 words per page (Google thin content threshold)
- Unique intro paragraph per page (not templated)
- At least 3-5 internal links per page
- Breadcrumbs (visible + BreadcrumbList schema)
- Each page must provide value a user can't get from the parent/hub page
- Avoid near-duplicate pages (e.g., don't generate both /salaries/vp-sales/ and /salaries/vice-president-sales/)
- noindex pages with insufficient data (< 5 data points)

### 14. GitHub Actions Auto-Deploy

Triggered by:
- Push to main (manual deploys)
- Scheduled cron (after Tuesday/Friday scraper runs)
- Workflow dispatch (manual trigger)

Steps:
1. Pull latest data from server (scp or API)
2. Run build.py --data data/latest_stats.json
3. Deploy to GitHub Pages via actions/upload-pages-artifact

### 15. Microsoft Clarity

Session recordings + heatmaps for understanding:
- Where recruiters click on the landing page
- How far they scroll
- Which sections get attention
- Form abandonment patterns

---

## Form Submission Architecture

```
[Landing Page Form]
        │
        ▼ fetch() POST
[Server: 100.91.208.46]
  /api/subscribe
        │
        ▼ Resend API
[Resend Audience: "ExecSignals"]
        │
        ▼ Monday 6 AM ET cron
[generate_hot_leads.py --send]
  reads audience, sends Monday Brief
```

---

## Head Section Template (what every page gets)

```html
<!-- Analytics preconnect -->
<link rel="preconnect" href="https://www.googletagmanager.com">
<link rel="dns-prefetch" href="https://www.googletagmanager.com">

<!-- Font preload (primary body font only) -->
<link rel="preload" href="/assets/fonts/plus-jakarta-sans-latin-400.woff2"
      as="font" type="font/woff2" crossorigin>

<!-- CSS preload -->
<link rel="preload" href="/css/styles.css?v=1" as="style">

<!-- Non-blocking font load -->
<link rel="stylesheet" href="/assets/fonts/fonts.css"
      media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="/assets/fonts/fonts.css"></noscript>

<!-- Main CSS -->
<link rel="stylesheet" href="/css/styles.css?v=1">

<!-- Favicons -->
<link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="theme-color" content="#0C0F1A">

<!-- SEO -->
<link rel="canonical" href="https://execsignals.com{canonical_path}">
<meta name="description" content="{description}">

<!-- Open Graph -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://execsignals.com{canonical_path}">
<meta property="og:title" content="{title}">
<meta property="og:description" content="{description}">
<meta property="og:site_name" content="ExecSignals">
<meta property="og:image" content="https://execsignals.com/assets/social-preview.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{title}">
<meta name="twitter:description" content="{description}">
<meta name="twitter:image" content="https://execsignals.com/assets/social-preview.png">

<!-- GA4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id={GA4_ID}"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', '{GA4_ID}');
</script>

<!-- JSON-LD -->
<script type="application/ld+json">{schemas}</script>
```
